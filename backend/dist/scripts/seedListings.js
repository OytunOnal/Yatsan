"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const db_1 = require("../lib/db");
const schema_1 = require("../db/schema");
const schema_2 = require("../db/schema");
const drizzle_orm_1 = require("drizzle-orm");
async function seedListings() {
    try {
        // Mevcut ilanları temizle (cascade delete ile)
        console.log('Mevcut ilanlar temizleniyor...');
        const existingListings = await db_1.db.select().from(schema_1.listings).where((0, drizzle_orm_1.eq)(schema_1.listings.userId, 'ry1vyd6mkce5kid'));
        for (const listing of existingListings) {
            await db_1.db.delete(schema_1.listingImages).where((0, drizzle_orm_1.eq)(schema_1.listingImages.listing_id, listing.id));
        }
        await db_1.db.delete(schema_1.listings).where((0, drizzle_orm_1.eq)(schema_1.listings.userId, 'ry1vyd6mkce5kid'));
        console.log('Mevcut ilanlar temizlendi');
        // Önce mevcut kullanıcıyı kontrol et veya yeni oluştur
        const existingUsers = await db_1.db.select().from(schema_1.users).where((0, drizzle_orm_1.eq)(schema_1.users.email, 'test@yatsan.com')).limit(1);
        let userId;
        if (existingUsers.length > 0) {
            userId = existingUsers[0].id;
            console.log('Mevcut kullanıcı bulundu:', userId);
        }
        else {
            const [newUser] = await db_1.db.insert(schema_1.users).values({
                id: (0, schema_2.generateId)(),
                email: 'test@yatsan.com',
                phone: '+905551234567',
                firstName: 'Test',
                lastName: 'User',
                password: '$2b$10$abcdefghijklmnopqrstuvwxyz123456', // hashlenmiş şifre
                userType: 'individual',
                phoneVerified: true,
                kvkkApproved: true,
                status: 'ACTIVE',
            }).returning();
            userId = newUser.id;
            console.log('Yeni kullanıcı oluşturuldu:', userId);
        }
        // ============================================
        // YAT İLANLARI (5 adet)
        // ============================================
        const yachtListingsData = [
            {
                title: 'Luxury Motor Yacht - Princess V40',
                description: '2014 model Princess V40 motor yacht. Immaculate condition with full service history. Perfect for cruising the Mediterranean.',
                price: '450000',
                currency: 'EUR',
                location: 'Bodrum, Türkiye',
                yachtType: 'motor_yacht',
                year: 2014,
                length: '12.35',
                beam: '4.16',
                draft: '1.15',
                engineBrand: 'Volvo Penta',
                engineHours: 850,
                engineHP: 740,
                fuelType: 'diesel',
                cruisingSpeed: 28,
                maxSpeed: 36,
                cabinCount: 2,
                bedCount: 4,
                bathroomCount: 1,
                equipment: JSON.stringify({
                    airConditioning: true,
                    gps: true,
                    radar: true,
                    autopilot: true,
                    vhf: true,
                    soundSystem: true,
                    tv: true,
                    kitchen: true,
                    refrigerator: true,
                    freezer: true,
                    microwave: true,
                    coffeeMaker: true,
                    dishwasher: true,
                    washingMachine: true,
                    waterMaker: true,
                    bowThruster: true,
                    sternThruster: true,
                    anchor: true,
                    windlass: true,
                    swimPlatform: true,
                    shower: true,
                    bbq: true,
                }),
                condition: 'excellent',
            },
            {
                title: 'Bavaria Cruiser 41 - Sailing Yacht',
                description: '2017 model Bavaria Cruiser 41. Well-maintained sailing yacht with excellent sailing performance. Ready for blue water cruising.',
                price: '185000',
                currency: 'EUR',
                location: 'Marmaris, Türkiye',
                yachtType: 'sailing_yacht',
                year: 2017,
                length: '12.35',
                beam: '4.25',
                draft: '2.10',
                engineBrand: 'Volvo Penta',
                engineHours: 1200,
                engineHP: 55,
                fuelType: 'diesel',
                cruisingSpeed: 7,
                maxSpeed: 9,
                cabinCount: 3,
                bedCount: 6,
                bathroomCount: 2,
                equipment: JSON.stringify({
                    airConditioning: true,
                    gps: true,
                    radar: true,
                    autopilot: true,
                    vhf: true,
                    soundSystem: true,
                    tv: false,
                    kitchen: true,
                    refrigerator: true,
                    freezer: true,
                    microwave: true,
                    coffeeMaker: true,
                    dishwasher: false,
                    washingMachine: false,
                    waterMaker: true,
                    bowThruster: true,
                    sternThruster: false,
                    anchor: true,
                    windlass: true,
                    swimPlatform: true,
                    shower: true,
                    bbq: false,
                }),
                condition: 'good',
            },
            {
                title: 'Lagoon 450 - Catamaran',
                description: '2019 model Lagoon 450 luxury catamaran. Spacious layout with 4 cabins. Perfect for charter or private use.',
                price: '650000',
                currency: 'EUR',
                location: 'Fethiye, Türkiye',
                yachtType: 'catamaran',
                year: 2019,
                length: '13.96',
                beam: '7.87',
                draft: '1.30',
                engineBrand: 'Yanmar',
                engineHours: 450,
                engineHP: 57,
                fuelType: 'diesel',
                cruisingSpeed: 8,
                maxSpeed: 10,
                cabinCount: 4,
                bedCount: 8,
                bathroomCount: 4,
                equipment: JSON.stringify({
                    airConditioning: true,
                    gps: true,
                    radar: true,
                    autopilot: true,
                    vhf: true,
                    soundSystem: true,
                    tv: true,
                    kitchen: true,
                    refrigerator: true,
                    freezer: true,
                    microwave: true,
                    coffeeMaker: true,
                    dishwasher: true,
                    washingMachine: true,
                    waterMaker: true,
                    bowThruster: true,
                    sternThruster: true,
                    anchor: true,
                    windlass: true,
                    swimPlatform: true,
                    shower: true,
                    bbq: true,
                }),
                condition: 'excellent',
            },
            {
                title: 'Traditional Gulet - 36m',
                description: '2015 model luxury gulet with 6 cabins. Authentic Turkish gulet experience with modern amenities. Perfect for blue cruises.',
                price: '890000',
                currency: 'EUR',
                location: 'Bodrum, Türkiye',
                yachtType: 'gulet',
                year: 2015,
                length: '36.00',
                beam: '8.50',
                draft: '3.20',
                engineBrand: 'Caterpillar',
                engineHours: 3200,
                engineHP: 600,
                fuelType: 'diesel',
                cruisingSpeed: 10,
                maxSpeed: 12,
                cabinCount: 6,
                bedCount: 12,
                bathroomCount: 6,
                equipment: JSON.stringify({
                    airConditioning: true,
                    gps: true,
                    radar: true,
                    autopilot: true,
                    vhf: true,
                    soundSystem: true,
                    tv: true,
                    kitchen: true,
                    refrigerator: true,
                    freezer: true,
                    microwave: true,
                    coffeeMaker: true,
                    dishwasher: true,
                    washingMachine: true,
                    waterMaker: true,
                    bowThruster: false,
                    sternThruster: false,
                    anchor: true,
                    windlass: true,
                    swimPlatform: true,
                    shower: true,
                    bbq: true,
                }),
                condition: 'good',
            },
            {
                title: 'Sunseeker Predator 55',
                description: '2016 model Sunseeker Predator 55. High-performance motor yacht with sleek design. Perfect for luxury cruising.',
                price: '750000',
                currency: 'EUR',
                location: 'Antalya, Türkiye',
                yachtType: 'motor_yacht',
                year: 2016,
                length: '16.72',
                beam: '4.78',
                draft: '1.35',
                engineBrand: 'MTU',
                engineHours: 680,
                engineHP: 1200,
                fuelType: 'diesel',
                cruisingSpeed: 25,
                maxSpeed: 32,
                cabinCount: 3,
                bedCount: 6,
                bathroomCount: 2,
                equipment: JSON.stringify({
                    airConditioning: true,
                    gps: true,
                    radar: true,
                    autopilot: true,
                    vhf: true,
                    soundSystem: true,
                    tv: true,
                    kitchen: true,
                    refrigerator: true,
                    freezer: true,
                    microwave: true,
                    coffeeMaker: true,
                    dishwasher: true,
                    washingMachine: true,
                    waterMaker: true,
                    bowThruster: true,
                    sternThruster: true,
                    anchor: true,
                    windlass: true,
                    swimPlatform: true,
                    shower: true,
                    bbq: true,
                }),
                condition: 'excellent',
            },
        ];
        for (const yacht of yachtListingsData) {
            const listingId = (0, schema_2.generateId)();
            await db_1.db.insert(schema_1.listings).values({
                id: listingId,
                userId,
                title: yacht.title,
                description: yacht.description,
                price: yacht.price,
                currency: yacht.currency,
                listingType: 'yacht',
                status: 'APPROVED',
                location: yacht.location,
            });
            await db_1.db.insert(schema_1.yachtListings).values({
                id: (0, schema_2.generateId)(),
                listing_id: listingId,
                yachtType: yacht.yachtType,
                year: yacht.year,
                length: yacht.length,
                beam: yacht.beam,
                draft: yacht.draft,
                engineBrand: yacht.engineBrand,
                engineHours: yacht.engineHours,
                engineHP: yacht.engineHP,
                fuelType: yacht.fuelType,
                cruisingSpeed: yacht.cruisingSpeed,
                maxSpeed: yacht.maxSpeed,
                cabinCount: yacht.cabinCount,
                bedCount: yacht.bedCount,
                bathroomCount: yacht.bathroomCount,
                equipment: yacht.equipment,
                condition: yacht.condition,
            });
            // Placeholder resim ekle
            await db_1.db.insert(schema_1.listingImages).values({
                id: (0, schema_2.generateId)(),
                listing_id: listingId,
                url: `https://images.unsplash.com/photo-1567899378494-47b22a2ae96a?w=800&auto=format&fit=crop`,
                orderIndex: 0,
            });
        }
        // ============================================
        // MARİNA İLANLARI (5 adet)
        // ============================================
        const marinaListingsData = [
            {
                title: 'Yalıkavak Marina - Premium Berth',
                description: 'Premium berth available at Yalıkavak Marina. One of the most exclusive marinas in Turkey with world-class facilities.',
                price: '2500',
                currency: 'EUR',
                location: 'Yalıkavak, Bodrum, Türkiye',
                priceType: 'monthly',
                maxLength: '25.00',
                maxBeam: '6.50',
                maxDraft: '3.50',
                services: JSON.stringify({
                    electricity: '220V/380V',
                    water: true,
                    wifi: true,
                    fuelStation: true,
                    pumpOut: true,
                    laundry: true,
                    showers: true,
                    toilets: true,
                    restaurant: true,
                    bar: true,
                    cafe: true,
                    supermarket: true,
                    pharmacy: true,
                    security: '24/7',
                    parking: true,
                    swimmingPool: true,
                    fitnessCenter: true,
                    spa: true,
                }),
                availability: JSON.stringify({
                    available: true,
                    availableFrom: '2025-01-01',
                    availableTo: '2025-12-31',
                }),
            },
            {
                title: 'Netsel Marina - Seasonal Berth',
                description: 'Seasonal berth at Netsel Marina in Marmaris. Excellent facilities in the heart of the city.',
                price: '4500',
                currency: 'EUR',
                location: 'Marmaris, Türkiye',
                priceType: 'yearly',
                maxLength: '20.00',
                maxBeam: '5.50',
                maxDraft: '2.80',
                services: JSON.stringify({
                    electricity: '220V/380V',
                    water: true,
                    wifi: true,
                    fuelStation: true,
                    pumpOut: true,
                    laundry: true,
                    showers: true,
                    toilets: true,
                    restaurant: true,
                    bar: true,
                    cafe: true,
                    supermarket: true,
                    pharmacy: false,
                    security: '24/7',
                    parking: true,
                    swimmingPool: true,
                    fitnessCenter: false,
                    spa: false,
                }),
                availability: JSON.stringify({
                    available: true,
                    availableFrom: '2025-04-01',
                    availableTo: '2025-10-31',
                }),
            },
            {
                title: 'D-Marin Turgutreis - Daily Berth',
                description: 'Daily berth rental at D-Marin Turgutreis. Modern facilities with excellent services.',
                price: '150',
                currency: 'EUR',
                location: 'Turgutreis, Bodrum, Türkiye',
                priceType: 'daily',
                maxLength: '30.00',
                maxBeam: '8.00',
                maxDraft: '4.00',
                services: JSON.stringify({
                    electricity: '220V/380V',
                    water: true,
                    wifi: true,
                    fuelStation: true,
                    pumpOut: true,
                    laundry: true,
                    showers: true,
                    toilets: true,
                    restaurant: true,
                    bar: true,
                    cafe: true,
                    supermarket: true,
                    pharmacy: true,
                    security: '24/7',
                    parking: true,
                    swimmingPool: true,
                    fitnessCenter: true,
                    spa: true,
                }),
                availability: JSON.stringify({
                    available: true,
                    availableFrom: '2025-01-01',
                    availableTo: '2025-12-31',
                }),
            },
            {
                title: 'Gocek Marina - Weekly Berth',
                description: 'Weekly berth in the beautiful Gocek Marina. Surrounded by islands and natural beauty.',
                price: '800',
                currency: 'EUR',
                location: 'Gocek, Türkiye',
                priceType: 'weekly',
                maxLength: '35.00',
                maxBeam: '9.00',
                maxDraft: '4.50',
                services: JSON.stringify({
                    electricity: '220V/380V',
                    water: true,
                    wifi: true,
                    fuelStation: true,
                    pumpOut: true,
                    laundry: true,
                    showers: true,
                    toilets: true,
                    restaurant: true,
                    bar: true,
                    cafe: true,
                    supermarket: true,
                    pharmacy: false,
                    security: '24/7',
                    parking: true,
                    swimmingPool: true,
                    fitnessCenter: true,
                    spa: true,
                }),
                availability: JSON.stringify({
                    available: true,
                    availableFrom: '2025-05-01',
                    availableTo: '2025-09-30',
                }),
            },
            {
                title: 'Setur Marinas - Kusadasi',
                description: 'Monthly berth at Setur Kusadasi Marina. Full-service marina with excellent facilities.',
                price: '1800',
                currency: 'EUR',
                location: 'Kuşadası, Türkiye',
                priceType: 'monthly',
                maxLength: '22.00',
                maxBeam: '6.00',
                maxDraft: '3.00',
                services: JSON.stringify({
                    electricity: '220V/380V',
                    water: true,
                    wifi: true,
                    fuelStation: true,
                    pumpOut: true,
                    laundry: true,
                    showers: true,
                    toilets: true,
                    restaurant: true,
                    bar: true,
                    cafe: true,
                    supermarket: true,
                    pharmacy: true,
                    security: '24/7',
                    parking: true,
                    swimmingPool: true,
                    fitnessCenter: false,
                    spa: false,
                }),
                availability: JSON.stringify({
                    available: true,
                    availableFrom: '2025-01-01',
                    availableTo: '2025-12-31',
                }),
            },
        ];
        for (const marina of marinaListingsData) {
            const listingId = (0, schema_2.generateId)();
            await db_1.db.insert(schema_1.listings).values({
                id: listingId,
                userId,
                title: marina.title,
                description: marina.description,
                price: marina.price,
                currency: marina.currency,
                listingType: 'marina',
                status: 'APPROVED',
                location: marina.location,
            });
            await db_1.db.insert(schema_1.marinaListings).values({
                id: (0, schema_2.generateId)(),
                listing_id: listingId,
                priceType: marina.priceType,
                maxLength: marina.maxLength,
                maxBeam: marina.maxBeam,
                maxDraft: marina.maxDraft,
                services: marina.services,
                availability: marina.availability,
            });
            // Placeholder resim ekle
            await db_1.db.insert(schema_1.listingImages).values({
                id: (0, schema_2.generateId)(),
                listing_id: listingId,
                url: `https://images.unsplash.com/photo-1590523277543-a94d2e4eb00b?w=800&auto=format&fit=crop`,
                orderIndex: 0,
            });
        }
        // ============================================
        // YEDEK PARÇA İLANLARI (5 adet)
        // ============================================
        const partListingsData = [
            {
                title: 'Volvo Penta D12-715 Marine Engine',
                description: 'Brand new Volvo Penta D12-715 marine diesel engine. Still in crate with full warranty.',
                price: '85000',
                currency: 'USD',
                location: 'İstanbul, Türkiye',
                condition: 'new',
                brand: 'Volvo Penta',
                oemCode: 'D12-715',
                compatibility: JSON.stringify({
                    brands: ['Princess', 'Sunseeker', 'Fairline'],
                    models: ['V45', 'V50', 'V52', 'V53'],
                    years: [2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020],
                }),
                partDescription: 'Complete engine package with transmission, cooling system, and exhaust. Includes installation kit.',
            },
            {
                title: 'Furuno Radar 1937CXT 4kW Open Array',
                description: 'High-performance 4kW color radar with 6.5ft open array antenna. Excellent condition, fully functional.',
                price: '4500',
                currency: 'USD',
                location: 'Antalya, Türkiye',
                condition: 'used',
                brand: 'Furuno',
                oemCode: '1937CXT',
                compatibility: JSON.stringify({
                    universal: true,
                    note: 'Compatible with most modern chart plotters via NMEA 2000',
                }),
                partDescription: 'Includes display unit, antenna, and cable. Recently serviced with new magnetron.',
            },
            {
                title: 'Bow Thruster 185mm Tunnel - Side Power',
                description: 'Refurbished Side Power bow thruster with 185mm tunnel. Perfect for yachts 40-50ft.',
                price: '3200',
                currency: 'EUR',
                location: 'Marmaris, Türkiye',
                condition: 'refurbished',
                brand: 'Side Power',
                oemCode: 'SP185',
                compatibility: JSON.stringify({
                    yachtLength: { min: 40, max: 50, unit: 'ft' },
                    tunnelDiameter: '185mm',
                    power: '12V DC',
                }),
                partDescription: 'Complete kit including motor, propeller, tunnel, control panel, and joystick. Fully tested and ready to install.',
            },
            {
                title: 'Kohler 20kW Marine Generator',
                description: 'Low hours Kohler 20EOZJ marine generator. Perfect for yachts 50-70ft. Recently serviced.',
                price: '12500',
                currency: 'USD',
                location: 'İzmir, Türkiye',
                condition: 'used',
                brand: 'Kohler',
                oemCode: '20EOZJ',
                compatibility: JSON.stringify({
                    yachtLength: { min: 50, max: 70, unit: 'ft' },
                    power: '20kW',
                    frequency: '50Hz / 60Hz',
                }),
                partDescription: 'Includes sound shield, fuel filter, and digital controller. Only 1200 hours of use.',
            },
            {
                title: 'Seakeeper 9 Gyro Stabilizer',
                description: 'Brand new Seakeeper 9 gyro stabilizer. Still in box with full warranty. Reduces boat roll up to 95%.',
                price: '28000',
                currency: 'USD',
                location: 'Bodrum, Türkiye',
                condition: 'new',
                brand: 'Seakeeper',
                oemCode: 'SK-9',
                compatibility: JSON.stringify({
                    yachtLength: { min: 45, max: 65, unit: 'ft' },
                    yachtDisplacement: { min: 30, max: 50, unit: 'tons' },
                }),
                partDescription: 'Complete unit with mounting hardware and control panel. Easy installation.',
            },
        ];
        for (const part of partListingsData) {
            const listingId = (0, schema_2.generateId)();
            await db_1.db.insert(schema_1.listings).values({
                id: listingId,
                userId,
                title: part.title,
                description: part.description,
                price: part.price,
                currency: part.currency,
                listingType: 'part',
                status: 'APPROVED',
                location: part.location,
            });
            await db_1.db.insert(schema_1.partListings).values({
                id: (0, schema_2.generateId)(),
                listing_id: listingId,
                condition: part.condition,
                brand: part.brand,
                oemCode: part.oemCode,
                compatibility: part.compatibility,
                description: part.partDescription,
            });
            // Placeholder resim ekle
            await db_1.db.insert(schema_1.listingImages).values({
                id: (0, schema_2.generateId)(),
                listing_id: listingId,
                url: `https://images.unsplash.com/photo-1581092921461-eab62e97a780?w=800&auto=format&fit=crop`,
                orderIndex: 0,
            });
        }
        console.log('✅ Mock ilanlar başarıyla oluşturuldu!');
        console.log(`   - 5 Yat ilanı`);
        console.log(`   - 5 Marina ilanı`);
        console.log(`   - 5 Yedek parça ilanı`);
        console.log(`   Toplam: 15 ilan`);
    }
    catch (error) {
        console.error('❌ Hata:', error);
        throw error;
    }
}
// Scripti çalıştır
seedListings()
    .then(() => {
    console.log('✅ İşlem tamamlandı');
    process.exit(0);
})
    .catch((error) => {
    console.error('❌ Script başarısız:', error);
    process.exit(1);
});
